{% extends "layouts/online-login-header.html" %}
{% set serviceName="Service name" %}

{% block pageTitle %}
	My studies - {{ serviceName }} - GOV.UK Prototype Kit
{% endblock %}

{% block beforeContent %}      
	{{ govukPhaseBanner({
		tag: {
		text: "Alpha"
		},
		html: 'This is a new service - your <a class="govuk-link govuk-link--no-visited-state" href="#">feedback</a> will help us improve it.'
	}) }}

    {{ govukBackLink({
        text: "Back",
        href: "dashboard"
    }) }}
{% endblock %}

{% block content %}

<div class="govuk-grid-row">
	<div class="govuk-grid-column-full">
        <h1 class="govuk-heading-l">My studies</h1>

        <table class="govuk-table">
            <thead class="govuk-table__head">
                <tr class="govuk-table__row">
                    <th scope="col" class="govuk-table__header">Name of study</th>
                    <th scope="col" class="govuk-table__header">Last updated</th>
                    <th scope="col" class="govuk-table__header govuk-table__header--numeric">Actions</th>
                </tr>
            </thead>
            <tbody class="govuk-table__body">
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">
                        Investigating left arm disease
                        <p class="govuk-hint">GRIS-111 111 111</p>
                    </td>
                    <td class="govuk-table__cell">12/05/2025</td>
                    <td class="govuk-table__cell govuk-table__cell--numeric">
                        <a class="govuk-link govuk-link--no-visited-state" href="view-my-study">View</a><br>
                        <button class="copy-btn app-copy-button" data-copy="GRIS-111 111 111">Copy ID</button>
                    </td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">
                        Investigating right arm disease
                        <p class="govuk-hint">GRIS-458 854 444</p>
                    </td>
                    <td class="govuk-table__cell">23/12/2024</td>
                    <td class="govuk-table__cell govuk-table__cell--numeric">
                        <a class="govuk-link govuk-link--no-visited-state govuk-!-margin-bottom-6" href="view-my-study">View</a><br>
                        <button class="copy-btn app-copy-button" data-copy="GRIS-458 854 444">Copy ID</button>
                    </td>
                </tr>
                <tr class="govuk-table__row">
                    <td class="govuk-table__cell">
                        Investigating left leg disease
                        <p class="govuk-hint">GRIS-564 952 654</p>
                    </td>
                    <td class="govuk-table__cell">06/09/2024</td>
                    <td class="govuk-table__cell govuk-table__cell--numeric">
                        <a class="govuk-link govuk-link--no-visited-state" href="view-my-study">View</a><br>
                        <button class="copy-btn app-copy-button" data-copy="GRIS-564 952 654">Copy ID</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
</div>

<!-- JS for copy code button -->
<script>
    document.querySelectorAll(".copy-btn").forEach(btn => {
    btn.addEventListener("click", () => {
        const value = btn.dataset.copy;

        navigator.clipboard.writeText(value).then(() => {
        const originalText = btn.textContent;
        btn.textContent = "ID copied";

        setTimeout(() => {
            btn.textContent = originalText;
        }, 2000);
        });
    });
    });
</script>

{% endblock %}
